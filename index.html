<!DOCTYPE html>
<html>
<head>
  <title>認証</title>
  <style>
    /* モーダルウィンドウ用のスタイル */
    .modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-color: rgba(0, 0, 0, 0.5);
      z-index: 9999;
    }
    
    .modal-content {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background-color: #fff;
      padding: 20px;
      border-radius: 5px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
    }
    button{
        background-color: #fff;
        padding: 3px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
        border-radius: 5px;
        border: none;
        margin: 5px;
    }
    button:active{
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3) inset;
    }
  </style>
  <script src="https://www.google.com/recaptcha/api.js" async defer></script>
  <script>
    // モーダルウィンドウを開く関数
    function openModal() {
      var modal = document.getElementById("modal");
      modal.style.display = "block";
    }

    // モーダルウィンドウを閉じる関数
    function closeModal() {
      var modal = document.getElementById("modal");
      modal.style.display = "none";
    }

    // フォームの送信処理
    function submitForm() {
      // reCAPTCHAの応答トークンを取得
      var recaptchaResponse = grecaptcha.getResponse();

      // フォームのデータを準備
      var formData = new FormData();
      formData.append('recaptchaResponse', recaptchaResponse);

      // フォームをサーバーに送信（ここでは仮のURLを使用）
      fetch('https://example.com/submit', {
        method: 'POST',
        body: formData
      })
      .then(function(response) {
        // サーバーからの応答を処理
        console.log(response);
      })
      .catch(function(error) {
        // エラーハンドリング
        console.error(error);
      });
    }
  </script>
</head>
<body>
  <!-- モーダルウィンドウ -->
  <div id="modal" class="modal">
    <div class="modal-content">
      <!-- reCAPTCHA要素 -->
      <div class="g-recaptcha" data-sitekey="YOUR_SITE_KEY"></div>
      <button onclick="submitForm()">送信</button>
      <button onclick="closeModal()">キャンセル</button>
    </div>
  </div>

  <!-- モーダルウィンドウを開くボタン -->
  <button onclick="openModal()">モーダルウィンドウを開く</button>
</body>
</html>

